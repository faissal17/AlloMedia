import{G as y,r as o,u as C,a as S,j as e,F as p,C as R,L as j,l as k,b as L,B as w,c as I,d as E,N as B,e as H,f as M}from"./index-f43806fb.js";import{B as D,v as _,S as z}from"./shadow-a13d6f45.js";function N(t){return y({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"}}]})(t)}function x(t){return y({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"}}]})(t)}const F=()=>{const[t,s]=o.useState({}),[r,{data:a,isSuccess:c,isError:d,error:m}]=C(),i=n=>{n.preventDefault(),console.log(n)},u=async n=>{try{await r(n)}catch(h){console.error("Error sending restaurant:",h)}};return o.useEffect(()=>{c&&s(a.content)},[c]),{handleSubmit:i,getRestaurant:u,dataRestaurant:t}},$=()=>{const t=o.useRef(null),[s,r]=o.useState(0),{data:a,error:c,isLoading:d}=S(),{getRestaurant:m,dataRestaurant:i}=F(),[u,n]=o.useState(!1),h=async l=>{const{name:f,value:g}=await l.target;if(g===""){n(!1);return}await m({search:g}),n(!0)};return e.jsxs("div",{className:" w-full h-[55vh] lg:h-[75vh] relative bg-red-600",children:[e.jsx(D,{src:_,className:"w-full h-full"}),e.jsx(z,{className:" bg-gray-500 opacity-40"}),e.jsxs("div",{className:` absolute flex flex-col gap-7 top-[30%]\r
          z-40 left-6 md:left-20 lg:left-14`,children:[e.jsxs("p",{className:" flex text-primary items-center gap-2 text-lg font-bold",children:[e.jsx("span",{children:e.jsx(p,{})}),e.jsx("span",{children:"Morroco"})]}),e.jsx("h3",{className:" text-2xl lg:text-6xl font-semibold w-full lg:w-[60%] text-gray-800",children:"Discover restaurants that deliver near you."}),e.jsxs("div",{className:" mt-5 relative",children:[e.jsx(R,{icon:e.jsx(p,{className:" scale-125 text-primary"}),type:"text",name:"searchRestaurant",id:"searchRestaurant",localisation:!0,placeholder:"Enter your delivery address",onChange:h,className2:" w-[100%] md:w-[100%] mx-0 lg:w-[60%]",className:`\r
                       rounded-2xl\r
                       py-6 px-12\r
                  focus:border-bg-gray-300 text-md lg:text-lg focus:border m-0\r
                  \r
                  `,submit:!1}),e.jsx("div",{children:u&&i&&e.jsx("div",{className:" absolute top-[100%] left-0 w-full bg-white rounded-md shadow-md",children:e.jsx("ul",{className:" flex flex-col gap-2 ",children:i&&i.length>0?i.map((l,f)=>e.jsx("li",{className:"border-b border-gray-300 py-2 px-3",children:e.jsx(j,{to:`/restaurant/${l.slug}`,children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l.name})})},l.slug)):e.jsx("li",{className:"border-b border-gray-300 py-2 px-3",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"No result"})})})})})]})]}),e.jsx("div",{className:`category__slider-product-home h-[100px] sm:h-[100px] \r
         md:h-[150px] lg:h-[160]  mx-1 md:mx-10 lg:mx-11 my-1 bg-color-red-button \r
         relative shadow-md`,children:e.jsx("div",{className:"content__categories",ref:t,style:{scrollLeft:s},children:e.jsxs("div",{className:"category-home",ref:t,style:{overflowX:"scroll",scrollLeft:s},children:[d&&e.jsx("div",{className:"w-10 h-10 border-4 border-red-500 rounded-full animate-spin"}),a&&a.content.map((l,f)=>e.jsx("div",{className:`box-category mx-2 md:mx-3 sm:min-w-[80px] \r
                  sm:h-[80px] md:min-w-[120px] md:h-[120px] \r
                  lg:min-w-[140px] lg:h-[140px]`,children:e.jsx(j,{to:`/restaurant/search/?slug=${l.slug}`,children:e.jsx("img",{className:" w-full h-full",src:l.picture,alt:""})})},f))]})})})]})},G=k.connect("http://localhost:4000"),O=({className:t,data:s})=>{const r=L(),a=async()=>{await r(I({id:s._id,title:s.title,price:s.s_price,picture:s.picture,quantity:1})),G.emit("sendNotification",{data:"cart item"})};return e.jsxs("div",{className:` rounded-md overflow-hidden bg-red-500 relative shadow-md ${t} `,children:[e.jsx("img",{alt:"",src:s.picture,className:" absolute top-0 left-0 w-full h-[80%]"}),e.jsxs("span",{className:" absolute flex items-center justify-between left-0 bottom-0 h-[20%] bg-white w-full p-3",children:[e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("h3",{className:" font-bold",children:s.title}),e.jsxs("ul",{className:" flex gap-1 items-center",children:[e.jsx("li",{children:e.jsx(x,{className:" text-lg text-yellow-300"})}),e.jsx("li",{children:e.jsx(x,{className:" text-lg text-yellow-300 "})}),e.jsx("li",{children:e.jsx(x,{className:" text-lg text-yellow-300"})}),e.jsx("li",{children:e.jsx(x,{className:" text-lg text-gray-300"})}),e.jsx("li",{children:e.jsx(x,{className:" text-lg text-gray-300"})})]})]}),e.jsxs("div",{className:" flex gap-2",children:[e.jsx(w,{onClick:a,className:" flex w-[45px] justify-center px-2  items-center",children:e.jsx(N,{className:"  w-9   text-lg font-bold "})}),e.jsx(w,{className:" flex w-[45px] justify-center px-2  items-center",children:e.jsx(N,{className:"  w-29   text-lg font-bold "})})]})]})]})},v=()=>{const{data:t,error:s,isLoading:r}=E();return s&&console.log(s),r&&console.log("isLoading"),e.jsxs("div",{className:" mt-3 flex  flex-wrap w-[100%] md:w-[95%] px-[0px]  md:px-[0px] lg:px-[10px]  xl:px-[20px] 2xl:px-[150px] lg:w-[95%] mx-auto",children:[r&&e.jsx("div",{className:"w-10 h-10 border-4 border-red-500 rounded-full animate-spin"}),t&&t.content.map((a,c)=>e.jsx(O,{data:a,className:"w-[95%] mx-auto sm:w-[49%] md:w-[32.33%] lg:w-[24%] my-[8px] sm:mx-[0.5%] h-[350px]"},c))]})},b=({className:t,offre1:s,offre2:r})=>{const[a,c]=o.useState(s);return o.useEffect(()=>{const d=setInterval(()=>{c(m=>m===s?r:s)},3e3);return()=>clearInterval(d)},[]),e.jsx("div",{className:` relative h-96 scale-[.98] duration-1000 hover:scale-100 rounded-lg overflow-hidden w-[95%] mx-auto ${t}`,children:e.jsx("img",{className:" absolute top-0 left-0 h-full transition opacity-100  w-full ",src:a,alt:""})})},Q="/assets/adds1-7d1ba571.jpg",q="/assets/adds3-13491b10.jpg",A="/assets/kfc2-55ac920f.jpg",X="/assets/kfc3-e16f39d7.png",P=()=>e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx(B,{}),e.jsx($,{}),e.jsx(b,{className:" mt-44",offre1:Q,offre2:q}),e.jsx(v,{}),e.jsx(b,{offre1:A,offre2:X}),e.jsx(v,{}),e.jsx(H,{})]}),e.jsx(M,{})]});export{P as default};
